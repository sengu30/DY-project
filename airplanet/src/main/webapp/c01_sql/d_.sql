SELECT * FROM ticketOption WHERE flightnumber LIKE '%'||''||'%' AND optioncode LIKE '%'||''||'%'	;
SELECT * FROM flight ORDER BY DEPARTDATE ;
INSERT INTO flight values('SFOICN23012011','KE','SFO',TO_DATE('2023-01-20 11:00','YYYY-MM-DD HH24:MI'),'ICN',10,101000);
INSERT INTO flight values('LAXICN23012011','KE','LAX',TO_DATE('2023-01-20 11:00','YYYY-MM-DD HH24:MI'),'ICN',10,800000);
INSERT INTO flight values('ICNLAX23012110','KE','ICN',TO_DATE('2023-01-21 10:00','YYYY-MM-DD HH24:MI'),'LAX',10,700000);
INSERT INTO flight values('ICNLAX23012010','KE','ICN',TO_DATE('2023-01-20 10:00','YYYY-MM-DD HH24:MI'),'LAX',10,700000);

INSERT INTO flight values('SFOICN22122011','KE','SFO',TO_DATE('2022-12-20 11:00','YYYY-MM-DD HH24:MI'),'ICN',10,101000);
INSERT INTO flight values('LAXICN22122011','KE','LAX',TO_DATE('2022-12-20 11:00','YYYY-MM-DD HH24:MI'),'ICN',10,800000);
INSERT INTO flight values('ICNLAX22122010','KE','ICN',TO_DATE('2022-12-21 10:00','YYYY-MM-DD HH24:MI'),'LAX',10,700000);
INSERT INTO flight values('ICNLAX22122110','KE','ICN',TO_DATE('2022-12-21 10:00','YYYY-MM-DD HH24:MI'),'LAX',10,700000);

INSERT INTO TICKETOPTION VALUES('SFOICN22122011ec0','SFOICN22122011',0,0,0);
INSERT INTO TICKETOPTION VALUES('SFOICN22122011ec1','SFOICN22122011',0,30000,100);
INSERT INTO TICKETOPTION VALUES('SFOICN22122011bs1','SFOICN22122011',200000,0,100);
INSERT INTO TICKETOPTION VALUES('SFOICN22122011bs2','SFOICN22122011',200000,30000,100);

INSERT INTO TICKETOPTION VALUES('ICNLAX22122110ec0','ICNLAX22122110',0,0,0);
INSERT INTO TICKETOPTION VALUES('ICNLAX22122110ec1','ICNLAX22122110',0,30000,100);
INSERT INTO TICKETOPTION VALUES('ICNLAX22122110bs1','ICNLAX22122110',200000,0,100);
INSERT INTO TICKETOPTION VALUES('ICNLAX22122110bs2','ICNLAX22122110',200000,30000,100);

INSERT INTO TICKETOPTION VALUES('ICNLAX22122010ec0','ICNLAX22122010',0,0,0);
INSERT INTO TICKETOPTION VALUES('ICNLAX22122010ec1','ICNLAX22122010',0,30000,100);
INSERT INTO TICKETOPTION VALUES('ICNLAX22122010bs1','ICNLAX22122010',200000,0,100);
INSERT INTO TICKETOPTION VALUES('ICNLAX22122010bs2','ICNLAX22122010',200000,30000,100);


INSERT INTO TICKETOPTION VALUES('LAXICN23012011ec0','LAXICN23012011',0,0,0);
INSERT INTO TICKETOPTION VALUES('LAXICN23012011ec1','LAXICN23012011',0,30000,100);
INSERT INTO TICKETOPTION VALUES('LAXICN23012011bs1','LAXICN23012011',200000,0,100);
INSERT INTO TICKETOPTION VALUES('LAXICN23012011bs2','LAXICN23012011',200000,30000,100);

INSERT INTO TICKETOPTION VALUES('ICNLAX23012110ec0','ICNLAX23012110',0,0,0);
INSERT INTO TICKETOPTION VALUES('ICNLAX23012110ec1','ICNLAX23012110',0,30000,100);
INSERT INTO TICKETOPTION VALUES('ICNLAX23012110bs1','ICNLAX23012110',200000,0,100);
INSERT INTO TICKETOPTION VALUES('ICNLAX23012110bs2','ICNLAX23012110',200000,30000,100);

INSERT INTO TICKETOPTION VALUES('ICNLAX23012010ec0','ICNLAX23012010',0,0,0);
INSERT INTO TICKETOPTION VALUES('ICNLAX23012010ec1','ICNLAX23012010',0,30000,100);
INSERT INTO TICKETOPTION VALUES('ICNLAX23012010bs1','ICNLAX23012010',200000,0,100);
INSERT INTO TICKETOPTION VALUES('ICNLAX23012010bs2','ICNLAX23012010',200000,30000,100);

INSERT INTO TICKETOPTION VALUES('SFOICN23012011ec1','SFOICN23012011',0,0,100);
INSERT INTO TICKETOPTION VALUES('SFOICN23012011ec2','SFOICN23012011',0,80000,20);

SELECT f.*,t.* ,(standardfee+classfee+baggage) FROM TICKETOPTION t , FLIGHT f WHERE t.FLIGHTNUMBER =f.FLIGHTNUMBER 
AND departairport LIKE '%'||UPPER('icn')||'%'
AND arriveairport LIKE '%'||UPPER('')||'%'
AND optioncode LIKE '______________%'
AND departdate >= TO_DATE('2022-12-21 10:00','YYYY-MM-DD HH24:MI') 
AND departdate <= TO_DATE('2022-12-21 23:00','YYYY-MM-DD HH24:MI') 
;

UPDATE TICKETOPTION SET stock = (stock + 10) WHERE OPTIONCODE LIKE '%'||'LAXSFO22122123bs0'||'%';

SELECT * FROM fare ORDER BY BOOKINGREFERENCE ;
INSERT INTO fare values(to_char(sysdate,'yymmddhh24miss')||fare_seq.nextval,'ICNLAX22122115bs0','t711txt@naver.com',sysdate,'1','',2,2000000);
DELETE FROM fare WHERE EMAIL ='jeju@mail.com';

--INSERT INTO FARE VALUES ('2212221721061001','ICNLAX22122115bs0','abcdee@eemail.com',sysdate,1,'',1,978000);
--DELETE FROM ticketoption WHERE optioncode='ICNLAX22122115bs0';
SELECT * FROM PASSENGER p ;
DELETE FROM PASSENGER p ;

SELECT * FROM FLIGHT f;
UPDATE flight SET STANDARDFEE = 1000000 WHERE DEPARTAIRPORT = 'LAX' OR  DEPARTAIRPORT = 'SFO'; 
UPDATE flight SET STANDARDFEE = 500000 WHERE DEPARTAIRPORT = 'ICN'; 

SELECT * FROM ticketOption WHERE flightnumber LIKE '%'||'ICNLAX22122115'||'%' AND optioncode LIKE '%'||'bs'||'%' AND stock >= 1; 

UPDATE TICKETOPTION SET stock=50 ;
INSERT INTO TICKETOPTION values('ICNLAX22122214ec0','ICNLAX22122214',0,0,40);
INSERT INTO TICKETOPTION values('LAXICN22123020ec0','LAXICN22123020',0,0,10);
INSERT INTO TICKETOPTION values('ICNLAX22122115ec0','ICNLAX22122115',0,0,10);
INSERT INTO TICKETOPTION values('ICNLAX22122115ec1','ICNLAX22122115',0,30000,10);
INSERT INTO TICKETOPTION values('ICNLAX22122115bs0','ICNLAX22122115',200000,0,10);
INSERT INTO TICKETOPTION values('ICNLAX22122115bs1','ICNLAX22122115',200000,20000,10);
INSERT INTO TICKETOPTION values('ICNLAX22122115bs2','ICNLAX22122115',200000,50000,5);
INSERT INTO TICKETOPTION values('LAXSFO22122123ec0','LAXSFO22122123',0,0,20);
INSERT INTO TICKETOPTION values('LAXSFO22122123ec1','LAXSFO22122123',0,10000,20);
INSERT INTO TICKETOPTION values('LAXSFO22122123bs1','LAXSFO22122123',200000,10000,20);
INSERT INTO TICKETOPTION values('SFOICN23012011ec1','SFOICN23012011',0,10000,40);
INSERT INTO TICKETOPTION values('SFOICN23012011bs1','SFOICN23012011',200000,10000,40);
INSERT INTO TICKETOPTION values('SFOICN23012011bs0','SFOICN23012011',200000,0,40);

SELECT * FROM airmember;
--INSERT INTO AIRMEMBER VALUES ('jeju@mail.com','1234','정감귤','01055557778',10000,'개인 내국인 현대카드 1111222233334444 25 12 정감귤 1999-09-19 12 f');
SELECT * FROM MYPASSENGERINFO m;
INSERT INTO MYPASSENGERINFO VALUES('jeju@mail.com','김감귤','kim','gamgul',TO_DATE('1999-09-19','YYYY-MM-DD'),'f','m3123245',TO_DATE('2030-01-10','YYYY-MM-DD'),'한국','한국');

UPDATE airmember SET cardinfo ='개인 내국인 롯데카드 1111222233334444 25 12 임창균 2001-08-11 23 m' WHERE name='임창균';
UPDATE airmember SET mileage = 10000 WHERE name='김감귤';

SELECT * FROM AIRPORT a ;
SELECT 'asdfaf'||fare_seq.nextval FROM dual;
SELECT 'asdfaf'||fare_seq.currval FROM dual;

SELECT DISTINCT BOOKINGREFERENCE,RESDATE, OPTIONCODE ,departdate, flighthours, Resstate, flightnumber,deAP.apcity , arAP.apcity, TOTALPRICE, deAP.pacifictime,arAP.pacifictime
FROM FARE f, FLIGHT fl,(SELECT AIRPORTCODE ,APcity,pacifictime AS FROM AIRPORT a) deAP,(SELECT AIRPORTCODE ,APcity,pacifictime FROM AIRPORT a) arAP
	WHERE substr(f.OPTIONCODE ,0,14)=fl.FLIGHTNUMBER
	AND deAP.airportcode=fl.DEPARTAIRPORT  
	AND arAP.airportcode=fl.ARRIVEAIRPORT 
	 order by departdate;	--여기까지 하면 해당 예약에 대한 모든 노선, 아래까지 하면 최소,최대값으로 최종출발도착지 구할 수 있음 

SELECT * FROM flight WHERE FLIGHTNUMBER = 'LAXSFO22122123';
SELECT * FROM AIRPORT a,AIRPORT a2 WHERE a.AIRPORTCODE = 'LAX';
SELECT * FROM airline ;

SELECT airportcode FROM AIRPORT a WHERE apcity = upper('sfo') OR AIRPORTCODE = upper('sfo');
